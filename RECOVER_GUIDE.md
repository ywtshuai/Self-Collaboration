# ğŸ”§ æ¢å¤è„šæœ¬ä½¿ç”¨æŒ‡å—

## ğŸ“‹ åŠŸèƒ½è¯´æ˜

å½“ä»£ç ç”Ÿæˆå®Œæˆä½†è¯„ä¼°é˜¶æ®µå‡ºé”™æ—¶ï¼Œä½¿ç”¨æ­¤è„šæœ¬å¯ä»¥ï¼š
- âœ… è¯»å–å·²ç”Ÿæˆçš„æ‰€æœ‰ä»£ç 
- âœ… è¿›è¡Œå®Œæ•´çš„è¯„ä¼°
- âœ… ç”Ÿæˆè¯„ä¼°æŠ¥å‘Š
- âœ… **æ— éœ€é‡æ–°ç”Ÿæˆä»£ç **ï¼ˆèŠ‚çœæ—¶é—´å’Œ API è´¹ç”¨ï¼‰

---

## ğŸš€ ä½¿ç”¨æ–¹æ³•

### æ–¹æ³• 1: è‡ªåŠ¨æ¢å¤ï¼ˆæ¨èï¼‰

è‡ªåŠ¨é€‰æ‹©æœ€æ–°çš„è¿è¡Œç›®å½•è¿›è¡Œè¯„ä¼°ï¼š

```bash
cd Self-collaboration-Code-Generation-main
python recover_and_eval.py
```

### æ–¹æ³• 2: æŒ‡å®šç›®å½•

æŒ‡å®šç‰¹å®šçš„è¿è¡Œç›®å½•ï¼š

```bash
python recover_and_eval.py --run-dir baseline_outputs/run_20260209_181309
```

### æ–¹æ³• 3: è‡ªå®šä¹‰è¿›ç¨‹æ•°

```bash
# ä½¿ç”¨ 8 ä¸ªè¿›ç¨‹è¯„ä¼°ï¼ˆWindows æ¨èï¼‰
python recover_and_eval.py --workers 8

# æŒ‡å®šç›®å½• + è‡ªå®šä¹‰è¿›ç¨‹æ•°
python recover_and_eval.py --run-dir baseline_outputs/run_20260209_181309 --workers 4
```

---

## ğŸ“Š è¾“å‡ºç¤ºä¾‹

```
================================================================================
æ¢å¤å¹¶è¯„ä¼°è„šæœ¬
================================================================================
ğŸ” è‡ªåŠ¨é€‰æ‹©æœ€æ–°è¿è¡Œç›®å½•: baseline_outputs/run_20260209_181309
âœ… è¿è¡Œç›®å½•: baseline_outputs/run_20260209_181309

[æ­¥éª¤ 1/4] åŠ è½½ CodeContests æ•°æ®é›†...
âœ… åŠ è½½å®Œæˆï¼Œå…± 165 ä¸ªé—®é¢˜

[æ­¥éª¤ 2/4] è¯»å–å·²ç”Ÿæˆçš„ä»£ç ...
================================================================================
ğŸ“‚ æ­£åœ¨è¯»å–ç›®å½•: baseline_outputs/run_20260209_181309
  âœ… 1575_A. Another Sorting Problem
  âœ… 1607_F. Robot on the Board 2
  âœ… 1654_C. Alice and the Cake
  ...

ğŸ“Š ç»Ÿè®¡:
  - æ‰¾åˆ°ä»£ç : 165
  - ç¼ºå¤±ä»£ç : 0
  - æ€»è®¡: 165

[æ­¥éª¤ 3/4] å¼€å§‹è¯„ä¼°...
================================================================================
ğŸ” ä½¿ç”¨ 16 ä¸ªè¿›ç¨‹å¹¶è¡Œè¯„ä¼°...
âœ… è¯„ä¼°å®Œæˆï¼
â±ï¸  è¯„ä¼°è€—æ—¶: 145.32 ç§’
ğŸ“ˆ å¹³å‡æ¯é¢˜: 0.88 ç§’

[æ­¥éª¤ 4/4] ç»Ÿè®¡ç»“æœ...
================================================================================

ğŸ“Š æœ€ç»ˆç»“æœ
================================================================================
âœ… Pass@1: 45.00% (74/165)
â±ï¸  è¯„ä¼°è€—æ—¶: 145.32 ç§’
ğŸ“ˆ å¹³å‡æ¯é¢˜: 0.88 ç§’
================================================================================

ğŸ’¾ ä¿å­˜ç»“æœ...
âœ… è¯„ä¼°ç»“æœå·²ä¿å­˜åˆ°: baseline_outputs/run_20260209_181309/evaluation_results.json
âœ… å¯è¯»æŠ¥å‘Šå·²ä¿å­˜åˆ°: baseline_outputs/run_20260209_181309/EVALUATION_REPORT.txt
âœ… ç»“æœå‰¯æœ¬å·²ä¿å­˜åˆ°: baseline_results_recovered.json

================================================================================
ğŸ‰ è¯„ä¼°å®Œæˆï¼
================================================================================
```

---

## ğŸ“‚ ç”Ÿæˆçš„æ–‡ä»¶

### 1. `evaluation_results.json`
ä¿å­˜åœ¨åŸè¿è¡Œç›®å½•ä¸­ï¼ŒåŒ…å«ï¼š
```json
{
  "evaluation": {
    "pass_at_1": 45.0,
    "passed": 74,
    "total": 165,
    "eval_time": 145.32,
    "workers": 16,
    "timestamp": "2026-02-09 18:30:45"
  },
  "results": [
    {
      "instance_id": "1575_A. Another Sorting Problem",
      "passed": true,
      "accuracy": 1.0,
      "test_results": [...]
    },
    ...
  ]
}
```

### 2. `EVALUATION_REPORT.txt`
å¯è¯»çš„æ–‡æœ¬æŠ¥å‘Šï¼ŒåŒ…å«æ¯ä¸ªé—®é¢˜çš„é€šè¿‡çŠ¶æ€ï¼š
```
================================================================================
è¯„ä¼°æŠ¥å‘Š
================================================================================

è¯„ä¼°æ—¶é—´: 2026-02-09 18:30:45
åŸå§‹è¿è¡Œç›®å½•: baseline_outputs/run_20260209_181309
é¢˜ç›®æ•°é‡: 165

è¯„ä¼°é…ç½®:
  - è¯„ä¼°è¿›ç¨‹æ•°: 16
  - è¶…æ—¶æ—¶é—´: 10.0 ç§’

ç»“æœç»Ÿè®¡:
  - Pass@1: 45.00% (74/165)
  - è¯„ä¼°è€—æ—¶: 145.32 ç§’
  - å¹³å‡æ¯é¢˜: 0.88 ç§’

è¯¦ç»†ç»“æœ:
  âœ… PASS 1575_A. Another Sorting Problem (å‡†ç¡®ç‡: 100%)
  âŒ FAIL 1607_F. Robot on the Board 2 (å‡†ç¡®ç‡: 50%)
  ...
```

### 3. `baseline_results_recovered.json`
ä¿å­˜åœ¨æ ¹ç›®å½•ï¼Œä¸ `evaluation_results.json` å†…å®¹ç›¸åŒï¼ˆä¾¿äºè®¿é—®ï¼‰

---

## ğŸ¯ ä½¿ç”¨åœºæ™¯

### åœºæ™¯ 1: ç”Ÿæˆå®Œæˆä½†è¯„ä¼°å‡ºé”™

```bash
# åŸå§‹è¿è¡Œé‡åˆ°é”™è¯¯
python main.py
# ... ä»£ç ç”Ÿæˆå®Œæˆ
# ... è¯„ä¼°é˜¶æ®µå‡ºé”™ï¼

# ä½¿ç”¨æ¢å¤è„šæœ¬å®Œæˆè¯„ä¼°
python recover_and_eval.py
```

### åœºæ™¯ 2: æƒ³è¦é‡æ–°è¯„ä¼°å·²æœ‰ç»“æœ

```bash
# ä½¿ç”¨ä¸åŒçš„è¿›ç¨‹æ•°é‡æ–°è¯„ä¼°
python recover_and_eval.py --workers 32

# æˆ–è°ƒæ•´è¶…æ—¶æ—¶é—´ï¼ˆéœ€ä¿®æ”¹è„šæœ¬ä¸­çš„ timeout å‚æ•°ï¼‰
```

### åœºæ™¯ 3: å¯¹æ¯”ä¸åŒè¿è¡Œçš„ç»“æœ

```bash
# è¯„ä¼°ç¬¬ä¸€æ¬¡è¿è¡Œ
python recover_and_eval.py --run-dir baseline_outputs/run_20260209_180000

# è¯„ä¼°ç¬¬äºŒæ¬¡è¿è¡Œ
python recover_and_eval.py --run-dir baseline_outputs/run_20260209_190000
```

---

## ğŸ” æ•…éšœæ’æŸ¥

### é—®é¢˜ 1: æ‰¾ä¸åˆ°è¿è¡Œç›®å½•

**é”™è¯¯ä¿¡æ¯:**
```
âŒ é”™è¯¯: baseline_outputs ç›®å½•ä¸å­˜åœ¨
```

**è§£å†³æ–¹æ³•:**
```bash
# ç¡®ä¿åœ¨æ­£ç¡®çš„ç›®å½•è¿è¡Œ
cd Self-collaboration-Code-Generation-main
ls baseline_outputs/  # æ£€æŸ¥ç›®å½•æ˜¯å¦å­˜åœ¨
```

### é—®é¢˜ 2: ä»£ç æ–‡ä»¶ç¼ºå¤±

**è¾“å‡ºä¿¡æ¯:**
```
  âŒ problem_001 (æœªæ‰¾åˆ°ä»£ç )
  ...
ğŸ“Š ç»Ÿè®¡:
  - æ‰¾åˆ°ä»£ç : 100
  - ç¼ºå¤±ä»£ç : 65
```

**è¯´æ˜:**
- è¿™äº›é—®é¢˜åœ¨ç”Ÿæˆé˜¶æ®µå¤±è´¥äº†
- æ¢å¤è„šæœ¬ä¼šå°†å®ƒä»¬æ ‡è®°ä¸ºå¤±è´¥
- å¦‚æœéœ€è¦è¿™äº›ç»“æœï¼Œéœ€è¦é‡æ–°è¿è¡Œç”Ÿæˆ

### é—®é¢˜ 3: å†…å­˜ä¸è¶³

**ç°è±¡:** è¯„ä¼°è¿‡ç¨‹ä¸­ç¨‹åºå´©æºƒ

**è§£å†³æ–¹æ³•:**
```bash
# å‡å°‘è¿›ç¨‹æ•°
python recover_and_eval.py --workers 4

# æˆ–ä½¿ç”¨æ›´å°‘çš„è¿›ç¨‹
python recover_and_eval.py --workers 2
```

---

## ğŸ“Œ å‘½ä»¤è¡Œå‚æ•°

| å‚æ•° | ç±»å‹ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|--------|------|
| `--run-dir` | str | None | æŒ‡å®šè¿è¡Œç›®å½•ï¼ˆé»˜è®¤è‡ªåŠ¨é€‰æ‹©æœ€æ–°ï¼‰ |
| `--workers` | int | 16 | è¯„ä¼°è¿›ç¨‹æ•° |

### å®Œæ•´ç¤ºä¾‹

```bash
# æŸ¥çœ‹å¸®åŠ©
python recover_and_eval.py --help

# è‡ªåŠ¨æ¢å¤ï¼ˆä½¿ç”¨é»˜è®¤å‚æ•°ï¼‰
python recover_and_eval.py

# æŒ‡å®šç›®å½•
python recover_and_eval.py --run-dir baseline_outputs/run_20260209_181309

# è‡ªå®šä¹‰è¿›ç¨‹æ•°
python recover_and_eval.py --workers 8

# ç»„åˆä½¿ç”¨
python recover_and_eval.py \
  --run-dir baseline_outputs/run_20260209_181309 \
  --workers 4
```

---

## âš¡ æ€§èƒ½å»ºè®®

### Windows å¹³å°
- æ¨è workers: 4-8
- è¾ƒå°‘çš„è¿›ç¨‹æ•°å¯ä»¥é¿å…å¤šè¿›ç¨‹å¼€é”€

### Linux/Mac å¹³å°
- æ¨è workers: 16-32
- å¯ä»¥å……åˆ†åˆ©ç”¨å¤šæ ¸ä¼˜åŠ¿

### è¯„ä¼°é€Ÿåº¦
- è¯„ä¼°æ¯”ç”Ÿæˆå¿«å¾—å¤šï¼ˆçº¯ CPU è®¡ç®—ï¼‰
- 100 ä¸ªé—®é¢˜é€šå¸¸åªéœ€ 1-3 åˆ†é’Ÿ

---

## ğŸ’¡ å°æŠ€å·§

### 1. å¿«é€ŸæŸ¥çœ‹ç»“æœ
```bash
# æŸ¥çœ‹å¯è¯»æŠ¥å‘Š
cat baseline_outputs/run_20260209_181309/EVALUATION_REPORT.txt

# ç»Ÿè®¡é€šè¿‡ç‡
grep "PASS" baseline_outputs/run_20260209_181309/EVALUATION_REPORT.txt | wc -l
```

### 2. å¯¹æ¯”å¤šæ¬¡è¿è¡Œ
```bash
# è¯„ä¼°æ‰€æœ‰è¿è¡Œç›®å½•
for dir in baseline_outputs/run_*/; do
    echo "è¯„ä¼°: $dir"
    python recover_and_eval.py --run-dir "$dir"
done

# æŸ¥çœ‹æ‰€æœ‰ Pass@1
grep "Pass@1" baseline_outputs/*/EVALUATION_REPORT.txt
```

### 3. åªè¯„ä¼°ç‰¹å®šé¢˜ç›®

å¦‚æœéœ€è¦è¯„ä¼°ç‰¹å®šé¢˜ç›®ï¼Œå¯ä»¥ä¿®æ”¹è„šæœ¬ä¸­çš„è¿™ä¸€è¡Œï¼š
```python
# åœ¨ load_generated_results å‡½æ•°ä¸­
for instance in dataset[:10]:  # åªè¯„ä¼°å‰ 10 ä¸ª
```

---

## ğŸ“ å¸¸è§é—®ç­”

**Q: æ¢å¤è„šæœ¬ä¼šä¿®æ”¹åŸå§‹ä»£ç å—ï¼Ÿ**  
A: ä¸ä¼šã€‚è„šæœ¬åªè¯»å–ä»£ç å¹¶è¿›è¡Œè¯„ä¼°ï¼Œä¸ä¼šä¿®æ”¹ä»»ä½•å·²ç”Ÿæˆçš„æ–‡ä»¶ã€‚

**Q: å¯ä»¥å¤šæ¬¡è¿è¡Œæ¢å¤è„šæœ¬å—ï¼Ÿ**  
A: å¯ä»¥ã€‚æ¯æ¬¡è¿è¡Œä¼šè¦†ç›–ä¹‹å‰çš„è¯„ä¼°ç»“æœæ–‡ä»¶ã€‚

**Q: å¦‚æœæŸäº›ä»£ç æ–‡ä»¶ç¼ºå¤±æ€ä¹ˆåŠï¼Ÿ**  
A: è„šæœ¬ä¼šè‡ªåŠ¨è·³è¿‡ç¼ºå¤±çš„ä»£ç ï¼Œå°†å®ƒä»¬æ ‡è®°ä¸ºå¤±è´¥ã€‚

**Q: è¯„ä¼°ç»“æœå’ŒåŸå§‹è¿è¡Œçš„ç»“æœä¸€æ ·å—ï¼Ÿ**  
A: åº”è¯¥ä¸€æ ·ï¼Œå› ä¸ºä½¿ç”¨ç›¸åŒçš„è¯„ä¼°é€»è¾‘å’Œæµ‹è¯•ç”¨ä¾‹ã€‚

**Q: èƒ½å¦åªè¯„ä¼°å¤±è´¥çš„é¢˜ç›®ï¼Ÿ**  
A: éœ€è¦ä¿®æ”¹è„šæœ¬ï¼Œå¯ä»¥æ ¹æ®ä¹‹å‰çš„ç»“æœç­›é€‰å¤±è´¥çš„é¢˜ç›®ã€‚

---

**å‡†å¤‡å¥½äº†å°±è¿è¡Œå§ï¼ä½¿ç”¨æ¢å¤è„šæœ¬å¿«é€Ÿå®Œæˆè¯„ä¼°ã€‚ğŸš€**
